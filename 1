import java.net.*;

public class UDPClient {

 public static void main(String[] args) {

 try {

 DatagramSocket clientSocket = new DatagramSocket();

 InetAddress serverAddress = InetAddress.getByName("localhost");

 int serverPort = 12345;

 // Send a dummy message to let server know our address

 String hello = "Hello Server";

 byte[] helloBytes = hello.getBytes();

 DatagramPacket helloPacket = new DatagramPacket(helloBytes, 

helloBytes.length, serverAddress, serverPort);

 clientSocket.send(helloPacket);

 System.out.println("Connected to server. Waiting for messages...");

 // Receive messages in a loop

 while (true) {

 byte[] buffer = new byte[1024];

 DatagramPacket receivePacket = new DatagramPacket(buffer, 

buffer.length);

 clientSocket.receive(receivePacket);

 String message = new String(receivePacket.getData(), 0, 

receivePacket.getLength());

 System.out.println("Server: " + message);

 if (message.equalsIgnoreCase("exit")) {

 System.out.println("Server closed the connection.");

 break;
}
 }
 clientSocket.close();
 } catch (Exception e) {
 e.printStackTrace();
 }
 }
}
